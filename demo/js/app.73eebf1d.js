(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],m=0,d=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,o=1;o<i.length;o++){var l=i[o];0!==a[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},a={app:0},s=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var p=l;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"24ab":function(t,e,i){t.exports={theme:"#13C2C2"}},"53ba":function(t,e,i){"use strict";var n=i("7a47"),a=i.n(n);a.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("WeekPlanTime")],1)},s=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index"},[i("weekPlanTimeDemo"),i("weekPlanTimeDisabledDemo"),i("doc")],1)},o=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{padding:"10px","margin-bottom":"50px"}},[i("aside",[t._v("基础用法")]),i("week-plan-time",{ref:"weekPlanTime",on:{change:t.selectBack}}),i("p",{staticStyle:{"text-align":"center"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.resetForm("weekPlanTime")}}},[t._v("重置表单")])],1),i("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[i("el-collapse-item",{attrs:{title:"代码演示",name:"1"}},[i("xmp",{staticStyle:{background:"#303133",color:"#fff"},domProps:{innerHTML:t._s(t.preData)}})],1)],1)],1)},c=[],p=(i("7f7f"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"week-plan-time-wrap"},[i("div",{staticClass:"tool-tips clearfix",style:{maxWidth:t.boxWidth}},[i("el-tag",{attrs:{size:"medium"}},[i("s",{staticClass:"circular"}),i("span",{staticClass:"tip"},[t._v("识别时段")])]),t.disabled?t._e():i("el-button",{staticClass:"fr",attrs:{type:"info",plain:"",icon:"el-icon-delete"},on:{click:function(e){return e.stopPropagation(),t.resetForm(e)}}},[t._v("清空")])],1),i("div",{staticClass:"scroll-box"},[i("div",{staticClass:"week-plan-time",style:{width:t.boxWidth}},[i("div",{staticClass:"az-time-list"},[i("ul",{ref:"timeContainer"},t._l(24,(function(e){return i("li",{key:e},[t._v(t._s(e-1))])})),0)]),i("div",{staticClass:"az-week-list"},t._l(t.weekList,(function(e,n){return i("div",{key:n,staticClass:"week-item"},[i("span",{staticClass:"label"},[t._v(t._s(e[t.props.label]))]),i("div",{staticClass:"time-swiper",on:{mousedown:function(i){return i.stopPropagation(),function(i){return t.mousedownStart(i,[n,e[t.props.timeList].length-1])}(i)}}},[t._l(24,(function(t){return i("s",{key:t,staticClass:"chunk"})})),t._l(e[t.props.timeList],(function(e,a){return i("el-popover",{key:a+"_",ref:"popover-"+n+"-"+a,refInFor:!0,attrs:{placement:"top",width:"240",trigger:"click"}},[i("div",{staticClass:"slider-time",class:{active:t.activeTime[0]==n&&t.activeTime[1]==a},style:{width:e.width,left:e.pointX},attrs:{slot:"reference"},slot:"reference"},[i("div",{staticClass:"content",on:{mousedown:function(i){return i.stopPropagation(),function(i){return t.arrowsStart(i,e,"content",[n,a])}(i)}}}),t.activeTime[0]==n&&t.activeTime[1]==a?i("div",{staticClass:"left-arrows arrows",on:{mousedown:function(i){return i.stopPropagation(),function(i){return t.arrowsStart(i,e,"start")}(i)}}},[i("i",{staticClass:"el-icon-caret-bottom"}),i("i",{staticClass:"el-icon-caret-top"})]):t._e(),t.activeTime[0]==n&&t.activeTime[1]==a?i("div",{staticClass:"right-arrows arrows",on:{mousedown:function(i){return i.stopPropagation(),function(i){return t.arrowsStart(i,e,"end")}(i)}}},[i("i",{staticClass:"el-icon-caret-bottom"}),i("i",{staticClass:"el-icon-caret-top"})]):t._e()]),i("div",{staticClass:"detail-box"},[i("el-time-picker",{staticStyle:{width:"100%"},attrs:{clearable:!1,"is-range":"","range-separator":"-",format:"HH:mm",disabled:t.disabled,"value-format":"HH:mm"},on:{change:function(i){return t.timeChange(i,e)}},model:{value:e.RangeTime,callback:function(i){t.$set(e,"RangeTime",i)},expression:"time.RangeTime"}}),t.disabled?t._e():i("div",{staticClass:"btn-box",staticStyle:{"text-align":"right","margin-top":"10px"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return i.stopPropagation(),t.saveTime(e,"popover-"+n+"-"+a)}}},[t._v("保存")]),i("el-button",{attrs:{type:"danger"},on:{click:function(e){return e.stopPropagation(),t.deleteTime(n,a,"popover-"+n+"-"+a)}}},[t._v("删除")])],1)],1)])}))],2),i("span",{directives:[{name:"show",rawName:"v-show",value:t.disabled,expression:"disabled"}],staticClass:"copy-btn",attrs:{slot:"reference"},slot:"reference"}),i("el-popover",{directives:[{name:"show",rawName:"v-show",value:!t.disabled,expression:"!disabled"}],ref:"popover-"+n+"m_",refInFor:!0,attrs:{placement:"left",width:"350",trigger:"click"}},[i("span",{staticClass:"copy-btn",attrs:{slot:"reference"},on:{click:function(e){return t.actionCopy(n)}},slot:"reference"},[i("i",{staticClass:"el-icon-document-copy"})]),i("p",[t._v("复制到")]),i("p",[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),i("el-checkbox-group",{on:{change:t.handleCheckedCitiesChange},model:{value:t.copyList,callback:function(e){t.copyList=e},expression:"copyList"}},t._l(t.weekList,(function(e,n){return i("el-checkbox",{key:n+"__",attrs:{disabled:e.disabled,label:n}},[t._v(t._s(e[t.props.label]))])})),1)],1),i("div",{staticClass:"text-right"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.confirmCopy(n,"popover-"+n+"m_")}}},[t._v("确认")]),i("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.closePopover("popover-"+n+"m_")}}},[t._v("取消")])],1)])],1)})),0)])])])}),m=[],d=i("ade3");i("28a5"),i("ac6a"),i("a481"),i("6b54");function u(t){var e,i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i)e={};else{if("Array"!==i)return t;e=[]}for(var n in t){var a=t[n],s=Object.prototype.toString.call(a).slice(8,-1);e[n]="Array"===s||"Object"===s?u(a):a}return e}var h={name:"",props:{disabled:{type:Boolean,default:!1},width:{type:String,default:"720px"},weekList:{type:Array,default:function(){return[{label:"周一",active:!1,timeList:[]},{label:"周二",active:!1,timeList:[]},{label:"周三",active:!1,timeList:[]},{label:"周四",active:!1,timeList:[]},{label:"周五",active:!1,timeList:[]},{label:"周六",active:!1,timeList:[]},{label:"周日",active:!1,timeList:[]}]}},props:{type:Object,default:function(){return{label:"label",timeList:"timeList",startTime:"startTime",endTime:"endTime"}}}},data:function(){return{copyList:[],checkAll:!1,isIndeterminate:!1,activeTime:[],temp:!1,dageDom:"",secondWidth:"",ifDrag:!1,dataList:[]}},computed:{boxWidth:function(){return 1*this.width.replace("px","")+122+"px"}},watch:{weekList:function(t,e){this.initFormatData()}},mounted:function(){window.addEventListener("mousemove",this.mousemoveNow),window.addEventListener("mouseup",this.mouseupEnd),this.secondWidth=this.width.replace("px","")/1440,this.weekList&&this.initFormatData()},methods:{initFormatData:function(){var t=this;this.temp=!1,this.dageDom="",this.ifDrag=!1,this.activeTime=[],this.copyList=[],this.checkAll=!1,this.isIndeterminate=!1,this.weekList.forEach((function(e){e[t.props.timeList]&&e[t.props.timeList].length&&e[t.props.timeList].forEach((function(e){t.$set(e,"pointX",""),t.$set(e,"r_width",""),t.$set(e,"r_pointX",""),t.$set(e,"width",""),t.$set(e,"startX",""),t.$set(e,"endX",""),t.$set(e,"id",""),t.$set(e,"RangeTime",[e[t.props.startTime],e[t.props.endTime]]);var i=t.formatSecond(e[t.props.startTime]),n=t.formatSecond(e[t.props.endTime]);e.width=(n-i)*t.secondWidth+"px",e.pointX=i*t.secondWidth+"px"}))}))},formatSecond:function(t){if(t){var e=t.split(":");if(2==e.length){var i=e[0].replace(/^0/,""),n=e[1].replace(/^0/,"");return 60*i+1*n}}},mousedownStart:function(t,e){if(!this.disabled){var i;this.dageDom="addTime";var n=(i={pointX:t.layerX+"px",r_width:"",r_pointX:"",width:"1px",startX:"",endX:""},Object(d["a"])(i,this.props.startTime,""),Object(d["a"])(i,this.props.endTime,""),Object(d["a"])(i,"RangeTime",[]),Object(d["a"])(i,"isPre",!0),i);this.recalcTime(n),this.weekList[e[0]][this.props.timeList].push(n),this.$set(this.weekList[e[0]][this.props.timeList],"length",this.weekList[e[0]][this.props.timeList].length),this.activeTime=[e[0],this.weekList[e[0]][this.props.timeList].length-1],this.ifDrag=!0,this.dageDom="end",this.temp=n,this.temp.r_width=1*n.width.replace("px",""),this.temp.r_pointX=1*n.pointX.replace("px",""),this.temp.startX=t.clientX}},arrowsStart:function(t,e,i,n){this.disabled||(this.activeTime=n||this.activeTime,this.ifDrag=!0,this.dageDom=i,this.temp=e,this.temp.r_width=1*e.width.replace("px",""),this.temp.r_pointX=1*e.pointX.replace("px",""),this.temp.startX=t.clientX)},mousemoveNow:function(t){this.ifDrag&&(this.temp.endX=t.clientX,this.temp.isPre=!1,this.recalcAttr(this.temp))},mouseupEnd:function(t){this.temp?this.listenerChange():this.activeTime=[],this.temp&&this.temp.isPre&&(this.weekList[this.activeTime[0]][this.props.timeList].pop(),this.$set(this.weekList[this.activeTime[0]][this.props.timeList],"length",this.weekList[this.activeTime[0]][this.props.timeList].length)),this.temp=!1,this.dageDom="",this.ifDrag=!1},recalcAttr:function(t){var e=t.r_pointX,i=1*this.width.replace("px","");if("start"==this.dageDom){var n=1*t.r_width+(t.startX-t.endX);e=1*e-(t.startX-t.endX),e<0&&(e=0,n=t.width.replace("px","")),t.startX-t.endX+1*t.r_width<0?n*=-1:t.pointX=e+"px",t.width=n+"px"}else if("end"==this.dageDom){var a=1*t.r_width+(t.endX-t.startX);a<0?(e=1*e+a,e<0&&(e=0,a=t.width.replace("px","")),t.pointX=e+"px",t.width=-1*a+"px"):(e+a>i&&(a=i-e),t.width=a+"px")}else if("content"==this.dageDom){var s=t.r_width;e+=t.endX-t.startX,e<0&&(e=0),e+s>i&&(e=i-s),t.pointX=e+"px"}this.recalcTime(this.temp)},recalcTime:function(t){var e=1*t.pointX.replace("px",""),i=1*t.width.replace("px",""),n=e/this.secondWidth,a=(e+i)/this.secondWidth;t[this.props.startTime]=this.formatMinute(n),t[this.props.endTime]=this.formatMinute(a),t.RangeTime=[t[this.props.startTime],t[this.props.endTime]]},formatMinute:function(t){var e=Math.floor(t/60),i=Math.floor(t%60);return e=e>=10?e:"0"+e,i=i>=10?i:"0"+i,e+":"+i},saveTime:function(t,e){this.closePopover(e);var i=this.formatSecond(t[this.props.startTime]),n=this.formatSecond(t[this.props.endTime]);t.width=(n-i)*this.secondWidth+"px",t.pointX=i*this.secondWidth+"px",this.listenerChange()},deleteTime:function(t,e,i){this.weekList[t][this.props.timeList].splice(e,1),this.listenerChange()},closePopover:function(t){t&&this.$refs[t][0].doClose()},timeChange:function(t,e){e.RangeTime=t,e[this.props.startTime]=t[0],e[this.props.endTime]=t[1]},actionCopy:function(t){var e=this;this.copyList=[],this.weekList.forEach((function(i,n){e.$set(e.weekList[n],"disabled",!1),n==t&&(i.disabled=!0)}))},handleCheckAllChange:function(t){this.copyList=t?this.weekList.map((function(t,e){return e})):[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(t){var e=t.length;this.checkAll=e===this.weekList.length,this.isIndeterminate=e>0&&e<this.weekList.length},confirmCopy:function(t,e){var i=this;this.copyList.forEach((function(e){i.weekList[e][i.props.timeList]=u(i.weekList[t][i.props.timeList])})),this.closePopover(e),this.listenerChange()},resetForm:function(){var t=this;this.$confirm("此操作将删除所有已选时段, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.weekList.forEach((function(e){e[t.props.timeList]=[]})),t.temp=!1,t.dageDom="",t.ifDrag=!1,t.activeTime=[],t.copyList=[],t.checkAll=!1,t.isIndeterminate=!1,t.listenerChange()})).catch((function(){}))},listenerChange:function(){this.$emit("change",this.weekList)}}},f=h,v=(i("53ba"),i("2877")),b=Object(v["a"])(f,p,m,!1,null,"4ad8b05c",null),w=b.exports,g={name:"",props:{},mixins:[],components:{WeekPlanTime:w},data:function(){return{activeNames:"1",preData:'\n    <template>\n      <week-plan-time ref="weekPlanTime" @change="selectBack" />\n      <p style="text-align: center;">\n        <el-button type="primary" @click="resetForm(\'weekPlanTime\')">重置表单</el-button>\n      </p>\n    </template>\n\n\n    <script>\n      import WeekPlanTime from \'@/components/WeekPlanTime\'\n      export default {\n        components: {\n          WeekPlanTime\n        },\n        methods: {\n          selectBack(list) {\n            console.log(list)\n          },\n          resetForm(name) {\n            this.$refs[name].resetForm()\n          }\n        }\n      }\n    <\/script>\n    '}},methods:{selectBack:function(t){console.log(t)},resetForm:function(t){this.$refs[t].resetForm()}}},k=g,T=(i("fd18"),Object(v["a"])(k,l,c,!1,null,"67fc8c02",null)),x=T.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{padding:"10px","margin-bottom":"50px"}},[i("aside",[t._v("只读模式")]),i("week-plan-time",{ref:"weekPlanTime",attrs:{weekList:t.weekList,disabled:!0},on:{change:t.selectBack}}),i("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[i("el-collapse-item",{attrs:{title:"代码演示",name:"1"}},[i("xmp",{staticStyle:{background:"#303133",color:"#fff"},domProps:{innerHTML:t._s(t.preData)}})],1)],1)],1)},L=[],_={name:"",props:{},mixins:[],components:{WeekPlanTime:w},data:function(){return{activeNames:"1",weekList:[{label:"周一",active:!1,timeList:[{startTime:"00:00",endTime:"24:00"}]},{label:"周二",active:!1,timeList:[{startTime:"00:00",endTime:"24:00"}]},{label:"周三",active:!1,timeList:[{startTime:"00:00",endTime:"24:00"}]},{label:"周四",active:!1,timeList:[{startTime:"00:00",endTime:"24:00"}]},{label:"周五",active:!1,timeList:[{startTime:"00:00",endTime:"24:00"}]},{label:"周六",active:!1,timeList:[]},{label:"周日",active:!1,timeList:[]}],preData:'\n      <template>\n        <week-plan-time :disabled="true" :weekList="weekList" ref="weekPlanTime" @change="selectBack" />\n      </template>\n\n\n      <script>\n        import WeekPlanTime from \'@/components/WeekPlanTime\'\n        export default {\n          components: {\n            WeekPlanTime\n          },\n          methods: {\n            selectBack(list) {\n              console.log(list)\n            }\n          }\n        }\n      <\/script>\n      '}},created:function(){},mounted:function(){},computed:{},watch:{},methods:{selectBack:function(t){console.log(t)},resetForm:function(t){this.$refs[t].resetForm()}},filters:{},beforeDestroy:function(){}},C=_,P=(i("e6cc"),Object(v["a"])(C,y,L,!1,null,"0fffec3a",null)),X=P.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"doc",staticStyle:{"padding-bottom":"50px"}},[t._m(0),t._l(t.tableList,(function(e,n){return i("div",{key:n,staticClass:"label"},[i("aside",{staticStyle:{"margin-top":"30px"}},[t._v(t._s(e.label))]),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,border:""}},[i("el-table-column",{attrs:{prop:"parameter",label:"参数",width:"150"}}),i("el-table-column",{attrs:{prop:"explain",label:"说明"}}),i("el-table-column",{attrs:{prop:"type",label:"类型",width:"120"}}),i("el-table-column",{attrs:{prop:"optional",label:"可选值",width:"180"}}),i("el-table-column",{attrs:{prop:"default",label:"默认值",width:"150"}})],1)],1)}))],2)},S=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("aside",{staticStyle:{"margin-top":"30px"}},[i("b",[t._v("说明文档")])])}],O={props:{},components:{},data:function(){return{tableList:{attrData:{label:"属性说明",data:[{parameter:"width",explain:"组件宽度（因为组件时段选择只支持选到分钟单位，24小时24*60=1440秒，组件宽度最好以1440px为被除数）",type:"String",optional:"--",default:"720px"},{parameter:"weekList",explain:"周列表数据",type:"Array",optional:"--",default:"[{label: '周一',active: false,timeList: []},...{label: '周日',active: false,timeList: []}]"},{parameter:"props",explain:"关键字段标识",type:"Object",optional:"--",default:"{label: 'label',timeList: 'timeList',startTime: 'startTime',endTime: 'endTime',}"},{parameter:"disabled",explain:"只读模式",type:"Boolean",optional:"true/false",default:"false"}]},eventsData:{label:"Events说明",data:[{parameter:"change",explain:"组件时段数据发生变化时回调函数,回调参数为整周时段数据",type:"Function",optional:"Function(data)",default:"--"}]},refsData:{label:"refs方法说明",data:[{parameter:"resetForm",explain:"清空数据",type:"--",optional:"--",default:"--"}]}}}},mounted:function(){},methods:{}},$=O,j=(i("9066"),Object(v["a"])($,D,S,!1,null,"129e9c9e",null)),W=j.exports,F={name:"",props:{},mixins:[],components:{weekPlanTimeDemo:x,weekPlanTimeDisabledDemo:X,doc:W},data:function(){return{}},created:function(){},mounted:function(){},computed:{},watch:{},methods:{},filters:{},beforeDestroy:function(){}},E=F,A=Object(v["a"])(E,r,o,!1,null,"0c5694ae",null),B=A.exports,N={name:"app",components:{WeekPlanTime:B}},M=N,I=Object(v["a"])(M,a,s,!1,null,null,null),R=I.exports,H=(i("24ab"),i("5c96")),z=i.n(H);n["default"].use(z.a,{size:"mini"}),n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(R)}}).$mount("#app")},"5dd7":function(t,e,i){},"7a47":function(t,e,i){},"7f07":function(t,e,i){},9066:function(t,e,i){"use strict";var n=i("7f07"),a=i.n(n);a.a},c84f:function(t,e,i){},e6cc:function(t,e,i){"use strict";var n=i("c84f"),a=i.n(n);a.a},fd18:function(t,e,i){"use strict";var n=i("5dd7"),a=i.n(n);a.a}});
//# sourceMappingURL=app.73eebf1d.js.map